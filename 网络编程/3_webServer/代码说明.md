
- - -
## 代码说明
> * **阻塞式IO+thread**模式的并发服务器代码，对于每一个新建连接，都`pthread_create`一个子线程去处理，然后主线程重新回到`accept`。由于所有线程共享文件描述符，所以在关闭文件描述符的时候需要注意是否有其它线程需要使用。在线程启动函数中需要传递文件描述符，注意不能直接传递原文件描述符的地址，因为可能会被后来新的文件描述符覆盖。如果直接将文件描述符转换为`void*`类型，则可能在有些系统上无法正常工作。在新建线程后，将线程置于`detach`（分离）状态，防止内存泄漏。使用线程时，注意使用函数的线程安全问题。
> * http请求以及响应都是固定的。对于任意一个http请求，都返回一个固定的html页面。不区分http请求中的方法，并且不识别http请求首部中的**Body**部分。
- - -
## 使用方法
在webServer_3文件夹下进行编译
```
g++ HttpRequest.cc HttpResponse.cc main.cc -std=c++11
```
然后直接执行
```
./a.out
```
可在本地浏览器输入以下内容即可访问
```
http://127.0.0.1:9876/
```

- - - 
## 存在的问题
对于该版本的服务器，如果`pthread_create`失败，直接会关闭连接套接字，但实际上等待一段时间后，服务器可能可以重新新建线程。这里是否可以改进。

- - - 
## 程序运行说明
***当时使用webbench压测时，最后代码可能会输出`shutdown error: Transport endpoint is not connected`错误。不知道为什么？？？***